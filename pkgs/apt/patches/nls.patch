--- src/CMake/apti18n.h.in.orig
+++ src/CMake/apti18n.h.in
@@ -22,6 +22,8 @@
 # define N_(x) x
 #else
 // apt will not use any gettext
+#include <locale.h>
+#define setlocale __fake_setlocale
 extern "C" inline char* setlocale(int, const char*) throw() { return nullptr; }
 extern "C" inline char* textdomain(const char*) throw() { return nullptr; }
 extern "C" inline char* bindtextdomain(const char*, const char*) throw() { return nullptr; }
