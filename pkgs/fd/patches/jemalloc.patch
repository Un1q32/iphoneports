--- src/Cargo.toml.orig
+++ src/Cargo.toml
@@ -74,7 +74,7 @@
 # Catalina. See https://github.com/sharkdp/fd/issues/498 for details.
 # This has to be kept in sync with src/main.rs where the allocator for
 # the program is set.
-[target.'cfg(all(not(windows), not(target_os = "android"), not(target_os = "macos"), not(target_os = "freebsd"), not(target_os = "openbsd"), not(target_os = "illumos"), not(all(target_env = "musl", target_pointer_width = "32")), not(target_arch = "riscv64")))'.dependencies]
+[target.'cfg(all(not(windows), not(target_os = "android"), not(target_os = "macos"), not(target_os = "ios"), not(target_os = "freebsd"), not(target_os = "openbsd"), not(target_os = "illumos"), not(all(target_env = "musl", target_pointer_width = "32")), not(target_arch = "riscv64")))'.dependencies]
 tikv-jemallocator = {version = "0.6.0", optional = true}
 
 [dev-dependencies]
--- src/src/main.rs.orig
+++ src/src/main.rs
@@ -42,6 +42,7 @@
     not(windows),
     not(target_os = "android"),
     not(target_os = "macos"),
+    not(target_os = "ios"),
     not(target_os = "freebsd"),
     not(target_os = "openbsd"),
     not(target_os = "illumos"),
