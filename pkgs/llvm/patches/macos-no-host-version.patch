--- src/llvm/lib/TargetParser/Unix/Host.inc.orig
+++ src/llvm/lib/TargetParser/Unix/Host.inc
@@ -44,14 +44,6 @@
     TargetTripleString += getOSVersion();
     return TargetTripleString;
   }
-  std::string::size_type MacOSDashIdx = TargetTripleString.find("-macos");
-  if (MacOSDashIdx != std::string::npos) {
-    TargetTripleString.resize(MacOSDashIdx);
-    // Reset the OS to darwin as the OS version from `uname` doesn't use the
-    // macOS version scheme.
-    TargetTripleString += "-darwin";
-    TargetTripleString += getOSVersion();
-  }
   // On AIX, the AIX version and release should be that of the current host
   // unless if the version has already been specified.
   if (Triple(LLVM_HOST_TRIPLE).getOS() == Triple::AIX) {
